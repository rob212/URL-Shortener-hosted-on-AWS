# Initializing the CDK Project

Now that your tools are installed and your terminal is authenticated, we are going to "scaffold" our project. In the software world, this is like running a generator that creates the standard folder structure, virtual environments, and base files needed to run a CDK app.

---

## 1. Create the Project Structure

Navigate to your `2-CDK` directory in your terminal and run the following command:

```bash
cdk init app --language python
```

### What just happened?
CDK has generated several files and folders. Here are the ones you need to know:

- `app.py`: The "entry point" of your application. This script tells AWS which "Stacks" to deploy.

- `url_shortener/`: This folder is named after your project.

- `url_shortener_stack.py`: This is your primary workspace. This is where we will write the Python code to define our S3 buckets, Lambdas, and Databases.

- `requirements.txt`: This lists the Python libraries (Constructs) needed for our project.

- `cdk.json`: A configuration file that tells the CDK CLI exactly how to run your app (e.g., python3 app.py).

- `.venv/`: A pre-configured Python Virtual Environment.

---

## 2. Activate the Virtual Environment
As a best practice, we never install libraries globally. We keep them inside this project's sandbox.

For macOS/Linux:
```bash
source .venv/bin/activate
```

For Windows: 
```bash
.venv\Scripts\activate
```

Once activated, your terminal prompt should change to show `(.venv)`, indicating you are now working inside the project's dedicated Python environment.

---

## 3. Install Dependencies
Now, we need to install the core CDK libraries defined in `requirements.txt.`

```bash
pip install -r requirements.txt
```

---

## 4. Understanding the "Stack"
Open `url_shortener/url_shortener_stack.py` in your editor. You will see a class that looks like this:

```python
from aws_cdk import (
    Stack,
)
from constructs import Construct

class UrlShortenerStack(Stack):

    def __init__(self, scope: Construct, construct_id: str, **kwargs) -> None:
        super().__init__(scope, construct_id, **kwargs)

        # The code that defines your stack goes here
```

In the "ClickOps" iteration, you had to navigate different parts of the AWS Console to find S3, then Lambda, then DynamoDB. In CDK, we simply import those services as **Constructs** and add them to this `__init__` method.

---

## 5. The First "Health Check"
Before we write any infrastructure, let's make sure the "engine" is working. Run:

```bash
cdk ls
```

This command should return the name of your stack (e.g., `UrlShortenerStack`). If you see the name, your Python environment and CDK CLI are successfully talking to each other.

---

## Next Step
Your project is scaffolded and ready for code. Proceed to `01-initialization/bootstrap.md` to prepare your AWS account to receive its first deployment.


> **Note:** "In CDK, `url_shortener_stack.py` is your single source of truth. If a resource isn't defined in this file, it doesn't exist in your stack."
